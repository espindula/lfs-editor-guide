<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch03-merge" xreflabel="git merge">
  <title>git merge and Related Commands</title>
  <?dbhtml filename="merge.html"?>

  <para><userinput>git merge</userinput>.
    This is useful to apply changes from another branch (or several branches)
    to the current one. By default the resulting changes are committed. This
    can be prevented with the <option>--no-commit</option> option, which
    allows to review the changes, and possibly reset some of them.
  </para>

  <para>
    In some cases, merging results in conflicts that have to be manually
    resolved. Note that it is recommended to merge only to a clean branch,
    that is after committing all changes.
  </para>

  <para><userinput>git rebase</userinput>
    This is useful to have the current branch start from another point in
    the history. For example if you have:
  </para>

<screen><literal>
                              B1---B2---B3    my_branch
                             /
                            A---C1---C2       trunk
</literal></screen>
  <para>
    rebasing my_branch onto trunk will produce:
  </para>

<screen><literal>
                              B'1---B'2---B'3 my_branch
                             /
                   A---C1---C2                trunk
</literal></screen>

  <para>
    where the state reached after commit B'3 is the same as it was at B3.
  </para>

  <para>
    But there is a very useful command <userinput>git rebase -i</userinput>
    that allos to rewrite history when you have made messy commits.
  </para>
    
  <note>
    <para>
      Contrary to subversion, there is no <option>--dry-run</option> option
      to <userinput>git merge</userinput>. But a repository can always be
      reset to a previous state with
      <userinput>git reset --hard &lt;commit&gt;</userinput>.
    </para>
Â  </note>

</sect1>
